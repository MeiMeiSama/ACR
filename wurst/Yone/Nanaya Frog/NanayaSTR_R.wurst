package NanayaSTR_R

import main

init
    inittrig_NanayaSTR_R ()

function trig_nanayaee1()
    timer _ydl_timer
    if LoadInteger(YDHT, GetHandleId(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 282426469) < 1
        SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) + .02)
        SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006, yDWEAngleBetweenUnits(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)))
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .02
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 1.4)
            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 12)
            SetPlayerAbilityAvailable(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'Nay6', false)
            SetPlayerAbilityAvailable(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'Nay5', true)
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .16
            soundplay2("Nanaya-SE-3.mp3")
            vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 24.00, .1)
            vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), 24.00, .1)
            dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 180., .44, false)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r113', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 45.))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 170., 0.00)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.2, 1, 1)
            systemunitmove(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), .5)
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.4)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r114', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetRandomDirectionDeg()))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 150., 0.)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.5, 1, 1)
            systemunitmove(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 1.4)
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.5)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("AZ_Zeusking_Impact-blue-hit.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("AZ_JUGG_Eb.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("Okita-3.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("az-blood-hit.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("TX_daji.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .32
            nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 100.)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'e000', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 90.))
            UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 'BHwe', 1.00)
            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), R2I(135.00 * 0.69))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 180.00, 0.00)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 2., 1, 1)
            SetUnitBlendTime(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.)
            DestroyEffect(AddSpecialEffectTarget("kdls1.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 13)
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .38
            soundplay2("Nanaya-SE-3.mp3")
            soundplay2("Nanaya-EE-2.mp3")
            dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 180., .44, false)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r113', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) - 45.))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 170., 0.00)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.2, 1, 1)
            systemunitmove(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), .5)
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.4)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r114', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetRandomDirectionDeg()))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 150., 0.)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.5, 1, 1)
            systemunitmove(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 1.4)
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.5)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("AZ_Zeusking_Impact-blue-hit.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("AZ_JUGG_Eb.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            DestroyEffect(AddSpecialEffectTarget("Okita-3.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
            vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 24.00, .1)
            vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), 24.00, .1)
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .7
            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 14)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r010', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 60., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1., 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0., 0.)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r012', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), .9, 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r087', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), .9, 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 125.)
            dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 120., .6, false)
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .8
            soundplay2("Nanaya-SE-3.mp3")
            soundplay2("Nanaya-SE-1.mp3")
            soundplay2("Nanaya-EE-3.mp3")
            dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 150., .6, false)
            dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 250., .40, false)
            vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 40.00, 0.24)
            vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), 40.00, 0.24)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r115', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 50., 0.)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), .5, 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'e000', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 100., 0.)
            DestroyEffect(AddSpecialEffectTarget("slash_flareadditive195.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
            DestroyEffect(AddSpecialEffectTarget("slash_flareadditive195_2.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
            DestroyEffect(AddSpecialEffectTarget("slash_flareadditive135.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.6, 1, 1)
            UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 'BHwe', 1.)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r116', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 90., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), .65, 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 100., 0.)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r116', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 100., 0.)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.1, 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r119', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 120., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180.))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.7, 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r119', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 120., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 210.))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.5, 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r119', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 120., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 150.))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.5, 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r117', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.9, 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 160., 0.)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r118', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180.))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.1, 1.1, 1.1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 150., 0.)
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.7)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'e000', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetRandomDirectionDeg()))
            UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 'BHwe', 1.)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.5, 1.5, 1.5)
            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 250., 0.)
            SetUnitBlendTime(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.)
            DestroyEffect(AddSpecialEffectTarget("bloodex-special-2.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
            DestroyEffect(AddSpecialEffectTarget("red-zhendi-shanguang.mdl", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
            DestroyEffect(AddSpecialEffectTarget("blood-4.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) >= .82
            stopunitoff(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004))
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 1)
            SetUnitBlendTime(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), .15)
            FlushChildHashtable(YDLOC, GetHandleId(GetExpiredTimer()))
            DestroyTimer(GetExpiredTimer())
    _ydl_timer = null

function trig_nanayae1()
    group ydl_group
    unit ydl_unit
    if LoadInteger(YDHT, GetHandleId(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 282426469) < 1
        SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) + .02)
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .02
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 1.4)
            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 26)
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == .08
            soundplay2("Nanaya-SE-9.mp3")
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r008', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1., 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 100., 0.)
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.8)
            UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 'BHwe', 1.)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r007', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetRandomDirectionDeg()))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), .8, 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0., 0.)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r006', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetRandomDirectionDeg()))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1., 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0., 0.)
            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.7)
            UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 'BHwe', 1.)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r120', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetRandomDirectionDeg()))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1., 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 150., 0.)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
            vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 50.00, .15)
            SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r121', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 100., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1., 1, 1)
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 80., 0.)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) >= .08 and LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) <= .48
            SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5015, GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 50.* CosBJ(LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5016, GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 50.* SinBJ(LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
            nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 50.)
            nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 60.)
            ydl_group = CreateGroup()
            GroupEnumUnitsInRange(ydl_group, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5015), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5016), 150., null)
            while true
                ydl_unit = FirstOfGroup(ydl_group)
                if ydl_unit == null
                    break
                GroupRemoveUnit(ydl_group, ydl_unit)
                if IsUnitType(ydl_unit, UNIT_TYPE_MECHANICAL) == false and IsUnitAliveBJ(ydl_unit) == true and IsUnitEnemy(ydl_unit, GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004))) == true
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014, ydl_unit)
                    if IsUnitType(ydl_unit, UNIT_TYPE_HERO) == true
                        if LoadInteger(YDLOC, GetHandleId(GetExpiredTimer()), 5067) == 0
                            soundplay2("Nanaya-E-2.mp3")
                            SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006, yDWEAngleBetweenUnits(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)))
                            SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5015, GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)) - 100.* CosBJ(LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
                            SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5016, GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)) - 100.* SinBJ(LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
                            SetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5015))
                            SetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5016))
                            PauseUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), true)
                            yDWEFlyEnable(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004))
                            yDWEFlyEnable(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014))
                            SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 1.)
                            SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 15)
                            SetPlayerAbilityAvailable(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'Nay5', false)
                            SetPlayerAbilityAvailable(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'Nay6', true)
                            SaveInteger(YDLOC, GetHandleId(GetExpiredTimer()), 5067, 1)
                            SaveReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005, 0.50)
                    if true
                        break
            DestroyGroup(ydl_group)
        if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) >= .50
            if LoadInteger(YDLOC, GetHandleId(GetExpiredTimer()), 5067) == 1
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 0.66
                    soundplay2("Nanaya-SE-5.mp3")
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r101', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180.))
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), 0.9, 1, 1)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 85.00, 0.00)
                    UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), 'BHwe', 1.)
                    dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 170., 0.3, false)
                    jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 25, 0.3, 0)
                    jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 30, 0.3, 0)
                    SetUnitAnimation(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "Stand Hit")
                    vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 20.00, 0.12)
                    vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), 20.00, 0.12)
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) <= 0.90
                    nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 0.)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 85.00, 0.00)
                    nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 100.)
                    SetUnitFacing(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006))
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 0.90
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 16)
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 0.96
                    vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 40.00, 0.12)
                    vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), 40.00, 0.12)
                    dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 200., 0.70, false)
                    dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 220., 0.70, false)
                    jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 30, 0.3, 0)
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r102', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 2.1, 1, 1)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 170.00, 0.00)
                    SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.2)
                    KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
                    soundplay2("Nanaya-SE-5.mp3")
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r086', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetRandomReal(0, 360)))
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), .9, 1, 1)
                    systemunitmove(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 1.5)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)) + 300.00, 0.00)
                    SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.2)
                    KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 0.66 or LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 0.96
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'e000', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetRandomReal(0, 360)))
                    yDWETimerRemoveUnit(1., LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0)
                    SetUnitBlendTime(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.)
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 2., 1, 1)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 200.+ GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068)), 0.)
                    DestroyEffect(AddSpecialEffectTarget("BY_Wood_Eff_Ord_YeYe_Hit_DaJi.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
                    DestroyEffect(AddSpecialEffectTarget("hit-blue-lizi.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
                    DestroyEffect(AddSpecialEffectTarget("TX_daji.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 1.16
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 17)
                    invisible(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0.00, 100.00, 0.30, 0.02)
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 1.30
                    soundplay2("Nanaya-SE-8.mp3")
                    bj_forLoopAIndex = 1
                    bj_forLoopAIndexEnd = 2
                    while true
                        if bj_forLoopAIndex > bj_forLoopAIndexEnd
                            break
                        SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r096', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006)))
                        SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 10)
                        if bj_forLoopAIndex == 1
                            sysafterimage(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 90, 200, 200 / 10, 0, .02, false)
                        else
                            sysafterimage(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) - 90, 200, 200 / 10, 0, .02, false)
                        SetUnitVertexColorBJ(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 100, 100, 100, 100)
                        filterunit2(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), .14, 0, 0, 0, 30, 0, 0, 0, 100)
                        mysystemunitapplylife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 2., 2., true)
                        bj_forLoopAIndex++
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 27)
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r103', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetRandomReal(0, 360)))
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.1, 1.1, 1.1)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 100., 0.)
                    KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
                    visible(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 100.00, 0.00, 0.20, 0.02)
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) >= 1.30 and LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) <= 1.60
                    nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 100.)
                    SetUnitFacing(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006))
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 1.50
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5061, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r105', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 150., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 360.00))
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5061), 1.5, 1, 1)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5061), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069)) + 65.00, 0.00)
                    UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5061), 'BHwe', 1.)
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r105', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180.00))
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), 1.5, 1, 1)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 65.00, 0.00)
                    UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), 'BHwe', 1.)
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 1.60
                    soundplay2("Nanaya-SE-5.mp3")
                    vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 12.00, 0.50)
                    vibration(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), 12.00, 0.50)
                    SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069, anglerange(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r096', true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 150., LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180.00))
                    SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), 1., 1., 1.)
                    jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 25, 0.3, 0)
                    jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), 25, 0.3, 0)
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 15)
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), 15)
                    SetUnitPathing(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), false)
                    dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 400., .8, false)
                    dycpushback(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 350., .8, false)
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) >= 1.60 and LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) <= 2.10
                    SaveInteger(YDLOC, GetHandleId(GetExpiredTimer()), 5070, LoadInteger(YDLOC, GetHandleId(GetExpiredTimer()), 5070) + 2)
                    nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006), 0.)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5068), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 85.00, 0.00)
                    nftssetunitloc(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5061), true, LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), 0, 0, LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5006) + 180., 0.)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5061), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069)) + 85.00, 0.00)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)) + 10.80, 0.00)
                    SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069)) + 10.80, 0.00)
                    if LoadInteger(YDLOC, GetHandleId(GetExpiredTimer()), 5070) == 10
                        SaveInteger(YDLOC, GetHandleId(GetExpiredTimer()), 5070, 0)
                        jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), 10, 0.3, 0)
                        SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'r104', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetRandomReal(0, 360)))
                        SetUnitVertexColorBJ(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 100, 100, 100, 10)
                        SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1., 1, 1)
                        SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)) + 100.00, 0.00)
                        SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 1.7)
                        KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007))
                        DestroyEffect(AddSpecialEffectTarget("hit-blue-lizi.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
                        DestroyEffect(AddSpecialEffectTarget("TX_daji.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), "chest"))
                        SaveUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004)), 'e000', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)), GetRandomDirectionDeg()))
                        SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), GetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014)) + 130., 0.)
                        SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), GetRandomReal(1., 1.2), 1, 1)
                        DestroyEffect(AddSpecialEffectTarget("slash_flareadditive195.mdx", LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), "origin"))
                        UnitApplyTimedLife(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 'BHwe', 1.)
                        SetUnitBlendTime(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), 0.)
                        SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5007), R2I(.69 * GetRandomReal(0, 360.)))
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 1.70
                    soundplay2("Nanaya-SE-5.mp3")
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 1.80
                    soundplay2("Nanaya-SE-5.mp3")
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 1.90
                    soundplay2("Nanaya-SE-5.mp3")
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 2.10
                    jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), -25, 0.3, 0)
                    jumpsys(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), -25, 0.3, 0)
                    invisible(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), 0.00, 100.00, 0.50, 0.02)
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069), 17)
                    SetUnitAnimationByIndex(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 17)
                if LoadReal(YDLOC, GetHandleId(GetExpiredTimer()), 5005) == 2.40
                    SetUnitPathing(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), true)
                    RemoveUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5069))
                    stopunitoff(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004))
                    PauseUnit(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5014), false)
                    FlushChildHashtable(YDLOC, GetHandleId(GetExpiredTimer()))
                    DestroyTimer(GetExpiredTimer())
            else
                stopunitoff(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004))
                SetUnitTimeScale(LoadUnitHandle(YDLOC, GetHandleId(GetExpiredTimer()), 5004), 1.)
                FlushChildHashtable(YDLOC, GetHandleId(GetExpiredTimer()))
                DestroyTimer(GetExpiredTimer())

function condtrig_NanayaSTR_R () returns bool
    if GetSpellAbilityId() == 'Nay5' or GetSpellAbilityId() == 'Nay6'
        return true
    return false

function inittrig_NanayaSTR_R()
    CreateTrigger()
    ..registerAnyUnitEvent(EVENT_PLAYER_UNIT_SPELL_EFFECT)
    ..addCondition(Condition(function condtrig_NanayaSTR_R))
    ..addAction() ->
        timer _ydl_timer
        integer ydl_localvar_step = LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 5036)
        ydl_localvar_step += 3
        SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 5036, ydl_localvar_step)
        SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 5037, ydl_localvar_step)
        SaveUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004, GetTriggerUnit())
        SaveUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5014, GetSpellTargetUnit())
        if GetSpellAbilityId() == 'Nay5'
            soundplay2("Nanaya-E-1.mp3")
            SaveReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006, Atan2BJ(GetSpellTargetY() - GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004)), GetSpellTargetX() - GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004))))
            stopuniton(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004))
            _ydl_timer = CreateTimer()
            SaveReal(YDLOC, GetHandleId(_ydl_timer), 5006, LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006))
            SaveReal(YDLOC, GetHandleId(_ydl_timer), 5005, 0.)
            SaveUnitHandle(YDLOC, GetHandleId(_ydl_timer), 5004, LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004))
            TimerStart(_ydl_timer, .02, true, function trig_nanayae1)

        else if GetSpellAbilityId() == 'Nay6'
            SaveReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006, yDWEAngleBetweenUnits(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004), LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5014)))
            SaveReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5015, GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5014)) - 125.* CosBJ(LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006)))
            SaveReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5016, GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5014)) - 125.* SinBJ(LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006)))
            SetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004), LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5015))
            SetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004), LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5016))
            SetUnitFacing(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004), LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006))
            stopuniton(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004))
            SaveUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5007, CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004)), 'r122', GetUnitX(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004)), GetUnitY(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004)), LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006)))
            SetUnitFlyHeight(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5007), 150.00, 0.00)
            SetUnitScale(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5007), 2., 1, 1)
            KillUnit(LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5007))
            soundplay2("Nanaya-EE-1.mp3")
            _ydl_timer = CreateTimer()
            SaveReal(YDLOC, GetHandleId(_ydl_timer), 5006, LoadReal(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5006))
            SaveUnitHandle(YDLOC, GetHandleId(_ydl_timer), 5014, LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5014))
            SaveReal(YDLOC, GetHandleId(_ydl_timer), 5005, 0.)
            SaveUnitHandle(YDLOC, GetHandleId(_ydl_timer), 5004, LoadUnitHandle(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 5004))
            TimerStart(_ydl_timer, .02, true, function trig_nanayaee1)
        FlushChildHashtable(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)